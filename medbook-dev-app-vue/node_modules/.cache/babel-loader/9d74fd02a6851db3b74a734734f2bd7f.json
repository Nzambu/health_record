{"remainingRequest":"/var/www/html/nvc-vue/node_modules/babel-loader/lib/index.js!/var/www/html/nvc-vue/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/nvc-vue/src/store/AuthModule.js","dependencies":[{"path":"/var/www/html/nvc-vue/src/store/AuthModule.js","mtime":1607864263176},{"path":"/var/www/html/nvc-vue/node_modules/cache-loader/dist/cjs.js","mtime":1607256461680},{"path":"/var/www/html/nvc-vue/node_modules/babel-loader/lib/index.js","mtime":1607256461616},{"path":"/var/www/html/nvc-vue/node_modules/eslint-loader/index.js","mtime":1607256462512}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9BdXRoU2VydmljZSc7CnZhciB1c2VyID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwp2YXIgc3RhdHVzID0gdXNlciA/IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiB0cnVlCiAgfSwKICB1c2VyOiB1c2VyCn0gOiB7CiAgc3RhdHVzOiB7CiAgICBsb2dnZWRJbjogZmFsc2UKICB9LAogIHVzZXI6IG51bGwsCiAgcHJvZmlsZTogbnVsbAp9Owp2YXIgaW5pdGlhbFN0YXRlID0gewogIHByb2ZpbGU6IG51bGwsCiAgc3RhdHVzOiBzdGF0dXMKfTsKZXhwb3J0IHZhciBhdXRoID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IGluaXRpYWxTdGF0ZSwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgIHJldHVybiBBdXRoU2VydmljZS5sb2dpbih1c2VyKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ2xvZ2luRmFpbHVyZScpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHByb2ZpbGU6IGZ1bmN0aW9uIHByb2ZpbGUoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLm1lKCkudGhlbihmdW5jdGlvbiAobWUpIHsKICAgICAgICB2YXIgZGF0YSA9IG1lLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2cobWUpOwogICAgICAgIGNvbW1pdCgncHJvZmlsZVN1Y2Nlc3MnLCBkYXRhKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRhdGEpOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb21taXQoJ3Byb2ZpbGVGYWlsJywgZXJyb3IpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBBdXRoU2VydmljZS5sb2dvdXQoKTsKICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9naW5GYWlsdXJlOiBmdW5jdGlvbiBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIHByb2ZpbGVTdWNjZXNzOiBmdW5jdGlvbiBwcm9maWxlU3VjY2VzcyhzdGF0ZSwgcHJvZmlsZSkgewogICAgICBzdGF0ZS5wcm9maWxlID0gcHJvZmlsZTsKICAgIH0sCiAgICBwcm9maWxlRmFpbDogZnVuY3Rpb24gcHJvZmlsZUZhaWwoc3RhdGUsIGVycm9yKSB7CiAgICAgIHN0YXRlLnByb2ZpbGVFcnJvciA9IGVycm9yOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/var/www/html/nvc-vue/src/store/AuthModule.js"],"names":["AuthService","user","JSON","parse","sessionStorage","getItem","status","loggedIn","profile","initialState","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","me","data","console","log","logout","mutations","loginSuccess","loginFailure","profileSuccess","profileFail","profileError"],"mappings":"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","sourcesContent":["import AuthService from '../services/AuthService';\n\nconst user = JSON.parse(sessionStorage.getItem('user'));\nlet status = user ? { status: { loggedIn: true},user } : { status: { loggedIn: false },user : null, profile : null }\nconst initialState = {\n    profile : null,\n    status : status\n}\nexport const auth = {\n    namespaced: true,\n    state: initialState,\n    actions: {\n        login({ commit }, user) {\n            return AuthService.login(user).then(\n                user => {\n                    commit('loginSuccess', user);\n                    return Promise.resolve(user);\n                },\n                error => {\n                    commit('loginFailure');\n                    return Promise.reject(error);\n                }\n            );\n        },\n        profile({ commit }) {\n            return AuthService.me().then(\n                me => {\n                    let data = me.data\n                    console.log(me)\n                    commit('profileSuccess', data)\n                    return Promise.resolve(data)\n                },\n                error => {\n                    commit('profileFail', error)\n                    return Promise.resolve(error)\n                }\n            );\n        },\n        logout({ commit }) {\n            AuthService.logout();\n            commit('logout');\n        },\n    },\n    mutations: {\n        loginSuccess(state, user) {\n            state.status.loggedIn = true;\n            state.user = user;\n        },\n        loginFailure(state) {\n            state.status.loggedIn = false;\n            state.user = null;\n        },\n        profileSuccess(state, profile) {\n            state.profile = profile\n        },\n        profileFail(state, error) {\n            state.profileError = error\n        },\n        logout(state) {\n            state.status.loggedIn = false;\n            state.user = null;\n        }\n    }\n}\n"]}]}