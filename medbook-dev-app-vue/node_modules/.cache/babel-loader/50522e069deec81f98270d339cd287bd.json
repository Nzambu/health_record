{"remainingRequest":"/var/www/html/vue/node_modules/babel-loader/lib/index.js!/var/www/html/vue/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/vue/src/store/AuthModule.js","dependencies":[{"path":"/var/www/html/vue/src/store/AuthModule.js","mtime":1610357218952},{"path":"/var/www/html/vue/node_modules/cache-loader/dist/cjs.js","mtime":1608645174000},{"path":"/var/www/html/vue/node_modules/babel-loader/lib/index.js","mtime":1608645174000},{"path":"/var/www/html/vue/node_modules/eslint-loader/index.js","mtime":1608645174000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBBdXRoU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9BdXRoU2VydmljZSc7CnZhciB0b2tlbiA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSk7CmNvbnNvbGUubG9nKHRva2VuKTsgLy8gbGV0IHN0YXR1cyA9IHRva2VuID8geyAKLy8gICAgICAgICBzdGF0dXM6IHsgbG9nZ2VkSW46IHRydWUsIHRva2VuIDogdG9rZW4gfQovLyAgICAgfSA6IHsgCi8vICAgICAgICAgc3RhdHVzOiB7IGxvZ2dlZEluOiBmYWxzZSx0b2tlbiA6IG51bGwgfQovLyAgICAgfQoKdmFyIGluaXRpYWxTdGF0ZSA9IHsKICBwcm9maWxlOiBudWxsLAogIGxvZ2dlZEluOiBudWxsLAogIHRva2VuOiBudWxsLAogIGFjY2Vzc1Rva2VuOiBudWxsCn07CmV4cG9ydCB2YXIgYXV0aCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICByZXR1cm4gQXV0aFNlcnZpY2UubG9naW4odXNlcikudGhlbihmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHsKICAgICAgICBjb21taXQoJ2xvZ2luU3VjY2VzcycsIGFjY2Vzc1Rva2VuLmRhdGEpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYWNjZXNzVG9rZW4pOwogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBwcm9maWxlOiBmdW5jdGlvbiBwcm9maWxlKF9yZWYyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIHJldHVybiBBdXRoU2VydmljZS5wcm9maWxlKCkudGhlbihmdW5jdGlvbiAodXNlclByb2ZpbGUpIHsKICAgICAgICB2YXIgcHJvZmlsZSA9IHVzZXJQcm9maWxlLmRhdGE7CiAgICAgICAgY29tbWl0KCdwcm9maWxlU3VjY2VzcycsIHByb2ZpbGUpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvZmlsZSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICBjb21taXQoJ3Byb2ZpbGVGYWlsJywgZXJyb3IpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmMykgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICBBdXRoU2VydmljZS5sb2dvdXQoKTsKICAgICAgY29tbWl0KCdsb2dvdXQnKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIGFjY2Vzc1Rva2VuKSB7CiAgICAgIHN0YXRlLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgc3RhdGUudG9rZW4gPSBhY2Nlc3NUb2tlbi5hdHRyaWJ1dGVzLmFjY2Vzc190b2tlbjsKICAgICAgc3RhdGUuYWNjZXNzVG9rZW4gPSBhY2Nlc3NUb2tlbi5hdHRyaWJ1dGVzOwogICAgfSwKICAgIGxvZ2luRmFpbHVyZTogZnVuY3Rpb24gbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICBwcm9maWxlU3VjY2VzczogZnVuY3Rpb24gcHJvZmlsZVN1Y2Nlc3Moc3RhdGUsIHByb2ZpbGUpIHsKICAgICAgc3RhdGUucHJvZmlsZSA9IHByb2ZpbGU7CiAgICB9LAogICAgcHJvZmlsZUZhaWw6IGZ1bmN0aW9uIHByb2ZpbGVGYWlsKHN0YXRlLCBlcnJvcikgewogICAgICBzdGF0ZS5wcm9maWxlRXJyb3IgPSBlcnJvcjsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChzdGF0ZSkgewogICAgICBzdGF0ZS5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS50b2tlbiA9IG51bGw7CiAgICAgIHN0YXRlLmFjY2Vzc1Rva2VuID0gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/var/www/html/vue/src/store/AuthModule.js"],"names":["AuthService","token","JSON","parse","sessionStorage","getItem","console","log","initialState","profile","loggedIn","accessToken","auth","namespaced","state","actions","login","user","commit","then","data","Promise","resolve","error","reject","userProfile","logout","mutations","loginSuccess","attributes","access_token","loginFailure","status","profileSuccess","profileFail","profileError"],"mappings":"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","sourcesContent":["import AuthService from '../services/AuthService';\n\nconst token = JSON.parse(sessionStorage.getItem('token'));\nconsole.log(token)\n// let status = token ? { \n//         status: { loggedIn: true, token : token }\n//     } : { \n//         status: { loggedIn: false,token : null }\n//     }\nconst initialState = {\n    profile : null,\n    loggedIn : null,\n    token : null,\n    accessToken : null,\n}\nexport const auth = {\n    namespaced: true,\n    state: initialState,\n    actions: {\n        login({ commit }, user) { \n            return AuthService.login(user).then(\n                accessToken => {\n                    commit('loginSuccess', accessToken.data);\n                    return Promise.resolve(accessToken);\n                },\n                error => {\n                    console.log(error)\n                    commit('loginFailure');\n                    return Promise.reject(error);\n                }\n            );\n        },\n        profile({ commit }) {\n            return AuthService.profile().then(\n                userProfile => {\n                    let profile = userProfile.data\n                    commit('profileSuccess', profile)\n                    return Promise.resolve(profile)\n                },\n                error => {\n                    console.log(error)\n                    commit('profileFail', error)\n                    return Promise.resolve(error)\n                }\n            );\n        },\n        logout({ commit }) {\n            AuthService.logout();\n            commit('logout');\n        },\n    },\n    mutations: {\n        loginSuccess(state, accessToken) {\n            state.loggedIn = true;\n            state.token = accessToken.attributes.access_token\n            state.accessToken = accessToken.attributes;\n        },\n        loginFailure(state) {\n            state.status.loggedIn = false;\n            state.user = null;\n        },\n        profileSuccess(state, profile) {\n            state.profile = profile\n        },\n        profileFail(state, error) {\n            state.profileError = error\n        },\n        logout(state) {\n            state.loggedIn = false;\n            state.token = null;\n            state.accessToken = null;\n        }\n    }\n}\n"]}]}