{"remainingRequest":"/var/www/html/app/node_modules/babel-loader/lib/index.js!/var/www/html/app/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/app/src/router/index.js","dependencies":[{"path":"/var/www/html/app/src/router/index.js","mtime":1605779901944},{"path":"/var/www/html/app/node_modules/cache-loader/dist/cjs.js","mtime":1605767621944},{"path":"/var/www/html/app/node_modules/babel-loader/lib/index.js","mtime":1605767621946},{"path":"/var/www/html/app/node_modules/eslint-loader/index.js","mtime":1605767633055}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgQWJvdXQgZnJvbSAnLi4vdmlld3MvQWJvdXQudnVlJzsKaW1wb3J0IExvZ2luIGZyb20gJy4uL3ZpZXdzL0xvZ2luLnZ1ZSc7CmltcG9ydCBNYWluIGZyb20gJy4uL3ZpZXdzL0xheW91dHMvTWFpbi52dWUnOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogJy9tYWluJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBNYWluCn0sIHsKICBwYXRoOiAnLycsCiAgbmFtZTogJ2Rhc2gnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8KICAgICcuLi92aWV3cy9MYXlvdXRzL01haW4udnVlJyk7CiAgfSwKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICcvYWJ0JywKICAgIGNvbXBvbmVudDogQWJvdXQKICB9LCB7CiAgICBwYXRoOiAnL2Fib3V0JywKICAgIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgICAvLyB0aGlzIGdlbmVyYXRlcyBhIHNlcGFyYXRlIGNodW5rIChhYm91dC5baGFzaF0uanMpIGZvciB0aGlzIHJvdXRlCiAgICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoCiAgICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8KICAgICAgJy4uL3ZpZXdzL0Fib3V0LnZ1ZScpOwogICAgfQogIH0sIHsKICAgIHBhdGg6ICcvcHJvZmlsZScsCiAgICAvLyBMYXp5LWxvYWRlZCBvbmx5IHdoZW4gcm91dGVyIGlzIHZpc2l0ZWQKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KAogICAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAicHJvZmlsZSIgKi8KICAgICAgJy4uL3ZpZXdzL1Byb2ZpbGUudnVlJyk7CiAgICB9CiAgfV0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIHZhciBwdWJsaWNQYWdlcyA9IFsnL2xvZ2luJ107CiAgdmFyIGF1dGhSZXF1aXJlZCA9ICFwdWJsaWNQYWdlcy5pbmNsdWRlcyh0by5wYXRoKTsKICB2YXIgbG9nZ2VkSW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7CiAgdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvZ2dlZEluKTsKICB2YXIgdG9rZW4gPSB1c2VyLnRva2VuLmFjY2Vzc190b2tlbjsKICB2YXIgZGVjb2RlZFRva2VuID0gVnVlLiRqd3QuZGVjb2RlKHRva2VuKTsKICB2YXIgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CiAgdmFyIGV4cGlyZWQgPSB0aW1lc3RhbXAgPj0gZGVjb2RlZFRva2VuLmV4cCA/IHRydWUgOiBmYWxzZTsKCiAgaWYgKGV4cGlyZWQgPT0gdHJ1ZSkgewogICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlciIpOwogICAgY29uc29sZS5sb2cobG9nZ2VkSW4pOwogIH0KICAvKiAKICAgKiBUcnkgdG8gYWNjZXNzIGEgcmVzdHJpY3RlZCBwYWdlIHdpdGhvdXQgbG9naW4KICAgKiBSZWRpcmVjdCB0byBsb2dpbiBwYWdlIAogICAqLwoKCiAgaWYgKGF1dGhSZXF1aXJlZCAmJiAhbG9nZ2VkSW4pIHsKICAgIGNvbnNvbGUubG9nKCdBbm90aGVyJyk7IC8vIFJlZGlyZWN0IHRvIHJlcXVlc3RlZCBwYXRoCgogICAgdmFyIGxvZ2lucGF0aCA9IHRvLnBhdGg7CiAgICBuZXh0KHsKICAgICAgbmFtZTogJ0xvZ2luJywKICAgICAgcXVlcnk6IHsKICAgICAgICBmcm9tOiBsb2dpbnBhdGgKICAgICAgfQogICAgfSk7CiAgICAvKgogICAgICogVHJ5IGFjY2Vzc2luZyBsb2dpbiBwYWdlIHdoaWxlIGxvZ2VkaW4gLSByZWRpcmVjdCB0byBwcm9maWxlIHBhZ2UKICAgICAqLwogIH0gZWxzZSBpZiAobG9nZ2VkSW4gJiYgdG8ucGF0aC5pbmNsdWRlcygnL2xvZ2luJykpIHsKICAgIG5leHQoJy9wcm9maWxlJyk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/var/www/html/app/src/router/index.js"],"names":["Vue","VueRouter","About","Login","Main","use","routes","path","name","component","children","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","sessionStorage","getItem","user","JSON","parse","token","access_token","decodedToken","$jwt","decode","timestamp","Date","getTime","expired","exp","removeItem","console","log","loginpath","query"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport About from '../views/About.vue'\nimport Login from '../views/Login.vue';\nimport Main from '../views/Layouts/Main.vue';\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },\n  {\n    path: '/main',\n    name: 'Home',\n    component: Main\n  },\n  {\n    path: '/',\n    name: 'dash',\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Layouts/Main.vue'),\n    children: [\n      {\n        path: '/abt',\n        component: About\n      },\n      {\n        path: '/about',\n        // route level code-splitting\n        // this generates a separate chunk (about.[hash].js) for this route\n        // which is lazy-loaded when the route is visited.\n        component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n      },\n      {\n        path: '/profile',\n        // Lazy-loaded only when router is visited\n        component: () => import(/* webpackChunkName: \"profile\" */'../views/Profile.vue')\n      }\n    ]\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = sessionStorage.getItem('user');\n    let user = JSON.parse(loggedIn)\n    let token = user.token.access_token;\n    let decodedToken = Vue.$jwt.decode(token) \n    let timestamp = (new Date()).getTime();      \n    let expired = (timestamp >= decodedToken.exp) ? true : false\n    if(expired == true) {\n      sessionStorage.removeItem(\"user\")\n      console.log(loggedIn)\n    }\n  /* \n   * Try to access a restricted page without login\n   * Redirect to login page \n   */\n  if (authRequired && !loggedIn) {\n    console.log('Another')\n    // Redirect to requested path\n    const loginpath = to.path;\n    next({ name: 'Login', query: { from: loginpath } });\n    /*\n     * Try accessing login page while logedin - redirect to profile page\n     */\n  } else if (loggedIn && (to.path).includes('/login')) {    \n    next('/profile');\n  }\n  else {\n    next();\n  }\n});\n\nexport default router"]}]}