{"remainingRequest":"/var/www/html/vue/node_modules/babel-loader/lib/index.js!/var/www/html/vue/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/vue/src/services/AuthService.js","dependencies":[{"path":"/var/www/html/vue/src/services/AuthService.js","mtime":1606077713856},{"path":"/var/www/html/vue/node_modules/cache-loader/dist/cjs.js","mtime":1605767621000},{"path":"/var/www/html/vue/node_modules/babel-loader/lib/index.js","mtime":1605767621000},{"path":"/var/www/html/vue/node_modules/eslint-loader/index.js","mtime":1605767633000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL3Zhci93d3cvaHRtbC92dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvdmFyL3d3dy9odG1sL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgQXhpb3MgZnJvbSAnLi9BeGlvcyc7Cgp2YXIgQXV0aFNlcnZpY2UgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIEF1dGhTZXJ2aWNlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dGhTZXJ2aWNlKTsKICB9CgogIF9jcmVhdGVDbGFzcyhBdXRoU2VydmljZSwgW3sKICAgIGtleTogImxvZ2luIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dpbihkYXRhKSB7CiAgICAgIHJldHVybiBBeGlvcyh7CiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgdXJsOiAnYXBpL2xvZ2luJywKICAgICAgICBkYXRhOiBkYXRhCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIHVzZXIgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW4pIHsKICAgICAgICAgIC8vIFN0b3JlIHRva2VuIGluIHNlc3Npb24gc3RvcmFnZQogICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuYWNjZXNzX3Rva2VuKSk7IC8vIFNldCB0aGUgYXV0aG9yaXphdGlvbiBiZWFyZXIgdG9rZW4KCiAgICAgICAgICBBeGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgcmVzcG9uc2UuZGF0YS5hY2Nlc3NfdG9rZW47CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdXNlcjsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAibG9nb3V0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIC8vIEF4aW9zKHsKICAgICAgLy8gICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgIC8vICAgICB1cmw6ICdhdXRoL2xvZ291dCcsCiAgICAgIC8vIH0pLnRoZW4oCiAgICAgIC8vICAgICByZXNwb25zZSA9PiB7CiAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpCiAgICAgIC8vICAgICB9CiAgICAgIC8vICkKICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnL2xvZ2luJyk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gQXV0aFNlcnZpY2U7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBBdXRoU2VydmljZSgpOw=="},{"version":3,"sources":["/var/www/html/vue/src/services/AuthService.js"],"names":["Axios","AuthService","data","method","url","then","response","user","access_token","sessionStorage","setItem","JSON","stringify","defaults","headers","common","Authorization","removeItem","window","location","replace"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,SAAlB;;IACMC,W;;;;;;;0BACIC,I,EAAM;AACR,aAAOF,KAAK,CAAC;AACTG,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,GAAG,EAAE,WAFI;AAGTF,QAAAA,IAAI,EAAGA;AAHE,OAAD,CAAL,CAKNG,IALM,CAKD,UAACC,QAAD,EAAc;AAChB,YAAIC,IAAI,GAAGD,QAAQ,CAACJ,IAApB;;AACA,YAAGI,QAAQ,CAACJ,IAAT,CAAcM,YAAjB,EAA+B;AAC3B;AACAC,UAAAA,cAAc,CAACC,OAAf,CAAuB,MAAvB,EAA+BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACJ,IAAT,CAAcM,YAA7B,CAA/B,EAF2B,CAG3B;;AACAR,UAAAA,KAAK,CAACa,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8BC,aAA9B,GAA8C,YAAWV,QAAQ,CAACJ,IAAT,CAAcM,YAAvE;AACH;;AACD,eAAOD,IAAP;AACH,OAdM,CAAP;AAeH;;;6BAEQ;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAE,MAAAA,cAAc,CAACQ,UAAf,CAA0B,MAA1B;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;AACH;;;;;;AAEL,eAAe,IAAInB,WAAJ,EAAf","sourcesContent":["import Axios from './Axios'\nclass AuthService {\n    login(data) {\n        return Axios({\n            method: 'POST',\n            url: 'api/login',\n            data : data\n        })\n        .then((response) => {\n            let user = response.data\n            if(response.data.access_token) {\n                // Store token in session storage\n                sessionStorage.setItem('user', JSON.stringify(response.data.access_token));\n                // Set the authorization bearer token\n                Axios.defaults.headers.common.Authorization = 'Bearer '+ response.data.access_token\n            }\n            return user\n        })\n    }\n\n    logout() {\n        // Axios({\n        //     method: 'GET',\n        //     url: 'auth/logout',\n        // }).then(\n        //     response => {\n        //         console.log(response)\n        //     }\n        // )\n        sessionStorage.removeItem('user')\n        window.location.replace('/login')\n    }\n}\nexport default new AuthService;\n"]}]}