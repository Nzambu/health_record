{"remainingRequest":"/var/www/html/1/medbook-dev-app-vue/node_modules/babel-loader/lib/index.js!/var/www/html/1/medbook-dev-app-vue/node_modules/eslint-loader/index.js??ref--13-0!/var/www/html/1/medbook-dev-app-vue/src/services/Axios.js","dependencies":[{"path":"/var/www/html/1/medbook-dev-app-vue/src/services/Axios.js","mtime":1610536715856},{"path":"/var/www/html/1/medbook-dev-app-vue/node_modules/cache-loader/dist/cjs.js","mtime":1610518510696},{"path":"/var/www/html/1/medbook-dev-app-vue/node_modules/babel-loader/lib/index.js","mtime":1610518510640},{"path":"/var/www/html/1/medbook-dev-app-vue/node_modules/eslint-loader/index.js","mtime":1610518511248}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKdmFyIGFjY2Vzc190b2tlbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CnZhciB0b2tlbiA9IGFjY2Vzc190b2tlbiA/IEpTT04ucGFyc2UoYWNjZXNzX3Rva2VuKSA6IG51bGw7IC8vIHZhciBiZWFyZXJUb2tlbiA9IGFjY2Vzc190b2tlbiA/IGRhdGEudG9rZW4uYWNjZXNzX3Rva2VuIDogbnVsbAoKdmFyIEF4aW9zID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS8nLAogIC8vIGJhc2VVUkwgOiAnaHR0cDovL2JhY2tlbmQubnZjLWludm9pY2UuY29tLycsCiAgLy8gdGltZW91dCA6IDEwMDAsCiAgaGVhZGVyczogewogICAgY29tbW9uOiB7CiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICdDb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICdBdXRob3JpemF0aW9uJzogJ0JlYXJlciAnICsgdG9rZW4KICAgIH0KICB9Cn0pOwpBeGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIGNvbnNvbGUubG9nKCJyZXNwb25zZSAiICsgcmVzcG9uc2Uuc3RhdHVzKQogIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSk7CiAgcmV0dXJuIHJlc3BvbnNlOwp9LCBmdW5jdGlvbiAoZXJyb3JzKSB7CiAgdmFyIGVycm9yID0gZXJyb3JzLnJlc3BvbnNlOwoKICBpZiAoZXJyb3Iuc3RhdHVzID09PSA0MDEpIHsKICAgIC8qKgogICAgICogdW5hdXRob3JpemVkIHVzZXIgaXMgbG9nZ2VkIG91dCBhbmQgcmVkaXJlY3RlZCB0byB0aGUgc2FtZSBwYWdlIHVwb24gbG9naW4KICAgICAqIAogICAgICogQ2xlYXIgZXhwaXJlZCB0b2tlbgogICAgICovCiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOyAvLyBHZXQgY3VycmVudCBwYXRobmFtZQoKICAgIHZhciByZWRpcmVjdFRvID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lOyAvLyBSZWRpcmVjdCB0byB0aGUgcGF0aG5hbWUKCiAgICBzZWxmLmxvY2F0aW9uID0gcmVkaXJlY3RUbzsKICB9CgogIHJldHVybiBlcnJvcjsgLy8gaWYgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAvL2FkZCB5b3VyIGNvZGUKICAvLyAgIGFsZXJ0KCJlcnJvciA6IiArIGVycm9yLnJlc3BvbnNlLmRhdGEpOwogIC8vIDxEaWFsb2cvPgogIC8vICBjb25zb2xlLmxvZyhlcnJvci5yZXNwb25zZS5kYXRhKQogIC8vICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UuZGF0YSk7CiAgLy8gfQogIC8vIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvci5tZXNzYWdlKTsKfSk7CmV4cG9ydCBkZWZhdWx0IEF4aW9zOw=="},{"version":3,"sources":["/var/www/html/1/medbook-dev-app-vue/src/services/Axios.js"],"names":["axios","access_token","sessionStorage","getItem","token","JSON","parse","Axios","create","baseURL","headers","common","interceptors","response","use","console","log","window","location","pathname","errors","error","status","removeItem","redirectTo","self"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACI,IAAMC,YAAY,GAAGC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAArB;AACA,IAAIC,KAAK,GAAGH,YAAY,GAAGI,IAAI,CAACC,KAAL,CAAWL,YAAX,CAAH,GAA8B,IAAtD,C,CACA;;AAGA,IAAMM,KAAK,GAAGP,KAAK,CAACQ,MAAN,CAAa;AACvBC,EAAAA,OAAO,EAAE,4BADc;AAEvB;AACA;AACAC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,MAAM,EAAG;AAChB,gBAAW,kBADK;AAEhB,sBAAiB,kBAFD;AAGhB,uBAAkB,YAAWP;AAHb;AAAX;AAJc,CAAb,CAAd;AAWAG,KAAK,CAACK,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,UAACD,QAAD,EAAc;AAC1C;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYC,MAAM,CAACC,QAAP,CAAgBC,QAA5B;AACA,SAAON,QAAP;AACH,CAJD,EAIG,UAACO,MAAD,EAAY;AACX,MAAIC,KAAK,GAAGD,MAAM,CAACP,QAAnB;;AACA,MAAGQ,KAAK,CAACC,MAAN,KAAiB,GAApB,EAAyB;AACrB;AACZ;AACA;AACA;AACA;AACYpB,IAAAA,cAAc,CAACqB,UAAf,CAA0B,OAA1B,EANqB,CAQrB;;AACA,QAAIC,UAAU,GAAGP,MAAM,CAACC,QAAP,CAAgBC,QAAjC,CATqB,CAWrB;;AACAM,IAAAA,IAAI,CAACP,QAAL,GAAgBM,UAAhB;AAEH;;AACD,SAAOH,KAAP,CAjBW,CAkBX;AACK;AACD;AACA;AACA;AACA;AACJ;AACA;AACH,CA9BD;AA+BJ,eAAed,KAAf","sourcesContent":["import axios from 'axios'\n    const access_token = sessionStorage.getItem('token');\n    let token = access_token ? JSON.parse(access_token) : null\n    // var bearerToken = access_token ? data.token.access_token : null\n\n\n    const Axios = axios.create({\n        baseURL: 'http://localhost:8000/api/',\n        // baseURL : 'http://backend.nvc-invoice.com/',\n        // timeout : 1000,\n        headers: { common : {\n            'Accept' : 'application/json',\n            'Content-type' : 'application/json',\n            'Authorization' : 'Bearer '+ token\n        }}\n    });\n\n    Axios.interceptors.response.use((response) => {\n        // console.log(\"response \" + response.status)\n        console.log(window.location.pathname)\n        return response;\n    }, (errors) => {\n        let error = errors.response\n        if(error.status === 401) {\n            /**\n             * unauthorized user is logged out and redirected to the same page upon login\n             * \n             * Clear expired token\n             */\n            sessionStorage.removeItem('token')\n\n            // Get current pathname\n            let redirectTo = window.location.pathname\n\n            // Redirect to the pathname\n            self.location = redirectTo\n            \n        }\n        return error\n        // if (error.response && error.response.data) {\n             //add your code\n            //   alert(\"error :\" + error.response.data);\n            // <Dialog/>\n            //  console.log(error.response.data)\n            //  return Promise.reject(error.response.data);\n        // }\n        // return Promise.reject(error.message);\n    });\nexport default Axios;"]}]}